<!doctype html>
<html lang="en">
  <head>
    <title>{% block title %}{% endblock %}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="static/plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/cssdb/adminlte.min.css">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  </head>
  <body class="loggedin">
    <div class="wrapper d-flex align-items-stretch">
      <nav id="sidebar">
        <div class="p-4 pt-5">
          <a href="#" class="img logo rounded-circle mb-5" style="background-image: url(/static/images/logo.jpg);"></a>
          <ul class="list-unstyled components mb-5">
            <li class="active">
              <a href="{{ url_for('home') }}"><i class="fa fas fa-home"></i> Home</a>
            </li>
            <li>
              <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-bars"></i> System</a>
               
              <ul class="collapse list-unstyled" id="homeSubmenu">
                <li>
                  <a href="{{ url_for('shellcmd') }}"><i class="fa fas fa-circle" style="color:green"></i> Control panel</a>
                </li> {% if role == 'Admin' %} <li>
                  <a href="{{ url_for('gnueditor') }}"><i class="fa fas fa-circle" style="color:green"></i> Root file editor</a>
                </li>
                <li>
                  <a href="{{ url_for('network') }}"><i class="fa fas fa-circle" style="color:green"></i> Network traffic</a>
                </li>
                <li>
                  <a href="{{ url_for('firewall')}}"><i class="fa fas fa-circle" style="color:green"></i> System firewall</a>
                </li> 
                <li>
                  <a href="{{ url_for('logs')}}"><i class="fa fas fa-circle" style="color:green"></i> System logs</a>
                </li>
                <li>
                  <a href="{{ url_for('restart')}}" onclick='return confirm("Reboot? Are You Sure?")'><i class="fa fas fa-circle" style="color:orange"></i> System Reboot</a>
                </li>
                <li>
                  <a href="{{ url_for('shutdown')}}" onclick='return confirm("Shutdown? Are You Sure?")'><i class="fa fas fa-circle" style="color:red"></i> System Shutdown</a>
                </li>
                <li>
                  <a href="{{ url_for('terminal')}}" ><i class="fa fas fa-circle" style="color:magenta"></i> System Terminal</a>
                </li>
                {%endif%}
              </ul>
            </li> {% if role == 'Admin' %} <li>
              <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-envelope"></i> Postfix</a>
              <ul class="collapse list-unstyled" id="pageSubmenu">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/main.cf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit main.cf</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/master.cf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit master.cf</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/sasl/sasl_password?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit sasl</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/transport?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit transport</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/virtual?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit virtual</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/aliases?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit aliases</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/sender_canonical?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit sender_canonical</a>
                </li>
                <li>
                  <a href="{{ url_for('queue')}}"><i class="fa fas fa-circle" style="color:green"></i> View mail queue</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#pageSubmenu1" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-envelope"></i> Postgrey</a>
              <ul class="collapse list-unstyled" id="pageSubmenu1">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/greylist_sender_exceptions?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit sender_exceptions</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/cidr_greylist_network_exceptions?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit network_exceptions</a>
                </li>
                <li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postfix/check_client_fqdn?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit check_client_fqdn</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postgrey/whitelist_clients?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit whitelist_clients</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/postgrey/whitelist_recipients?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit whitelist_recipients</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#pageSubmenu3" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa-solid fas fa-fingerprint"></i> Amavis</a>
              <ul class="collapse list-unstyled" id="pageSubmenu3">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/amavis/conf.d/50-user?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit 50-user</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/default/amavisd-snmp-subagent?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit amavisd-snmp-subagent</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#pageSubmenu4" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-bug"></i> Clamav</a>
              <ul class="collapse list-unstyled" id="pageSubmenu4">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/clamav/clamd.conf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit clamd.conf</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/clamav/freshclam.conf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit freshclam.conf</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#pageSubmenu6" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-user"></i> Bind9</a>
              <ul class="collapse list-unstyled" id="pageSubmenu6">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/bind.keys?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit bind.keys</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/db.0?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit db.0</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/db.127?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit db.127</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/db.255?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit db.255</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/db.local?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit db.local</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/named.conf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit named.conf</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/named.conf.default-zones?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit named.conf.default-zones</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/named.conf.local?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit named.conf.local</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/named.conf.options?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit named.conf.options</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/bind/rndc.key?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit rndc.key</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#pageSubmenu2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="fa fas fa-envelope"></i> Spamassassin</a>
              <ul class="collapse list-unstyled" id="pageSubmenu2">
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/spamassassin/local.cf?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit local.cf</a>
                </li>
                <li>
                  <a href="{{ url_for('gnueditor')}}etc/default/spamassassin?edit"><i class="fa fas fa-circle" style="color:green"></i> Edit defaults</a>
                </li>
              </ul>
            </li> {%endif%}
          </ul>
          <div class="footer">
            <p> CopyLeft &copy; <script>
                document.write(new Date().getFullYear());
              </script> GnuProxy v1.0 </p>
          </div>
        </div>
      </nav>
      <!-- Page Content  -->
      <div id="content" class="p-4 p-md-5">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="container-fluid">
            <button type="button" id="sidebarCollapse" class="btn btn-primary">
              <i class="fa fa-bars"></i>
              <span class="sr-only">Toggle Menu</span>
            </button>
            <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="nav navbar-nav ml-auto">
                <li class="nav-item active"></li>
                <li class="nav-item">
                  <a class="nav-link" href="{{url_for('home')}}">Home</a>
                </li> {% if role == 'Admin' %} <a class="nav-link" href="{{url_for('admin')}}">Admin</a> {% endif %} </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{url_for('profile')}}">Profile</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{url_for('about')}}">About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{url_for('logout')}}">Logout</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="col-sm-6">
          <h4>
             Postfix Mail Queue
             <a href="{{ url_for('queue') }}">
               <button type="button" class="btn  btn-light">
               <i class="fa fa-retweet" aria-hidden="true"></i>
               </button>
               </a>
          </h4>
        </div>
        <!-- Default box -->
        <div class="card card-primary card-outline">
          <div class="card-header">
            <h3 class="card-title">Messages</h3>
            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                <i class="fas fa-minus"></i>
              </button>
              <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="card-body"> {% block content %}{% endblock %} {% with messages = get_flashed_messages(with_categories=true) %}
            <!-- Categories: success (green), info (blue), warning (yellow), danger (red) --> {% if messages %} {% for category, message in messages %} <div class="alert w3-round alert-{{ category }} alert-dismissible" role="alert" display:inline-block;>
              <a class="close" data-dismiss="alert"></a>
              {{ message }}
            </div> {% endfor %} {% endif %} {% endwith %}
          </div>
          <!-- /.card-body -->
          <div class="card-footer"> GnuProxy </div>
          <!-- /.card-footer-->
        </div>
        <!-- /.card -->
        </section>
        <!-- /.content -->
      </div>
      <!-- /.content-wrapper -->
    </div>
    </div>
    <script type="text/javascript">
      $(document).ready(function() {
        window.setTimeout(function() {
          $(".alert").fadeTo(1000, 0).slideUp(1000, function() {
            $(this).remove();
          });
        }, 5000);
      });
    </script>
    <script src="static/js/popper.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/main.js"></script> {% block javascript %}{% endblock %}
  </body>
  <!-- Footer -->
  <footer class="page-footer font-small blue">
    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">© 2022 CopyLeft: <a href="https://www.gnuproxy.org"> Gnuproxy</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->
</html>